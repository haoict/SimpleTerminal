#include "font.h"

#include <SDL2/SDL.h>
#include <SDL2/SDL_ttf.h>

// clang-format off
// font from https://github.com/nesbox/TIC-80
// Each character is 8 bytes (6 rows of pixels, plus 2 unused bytes)
// Format: 8x6 pixel grid, stored as bit patterns in bytes
/* Example:
    Character 'A' (ASCII 65)
    0x70: 01110000 --  ***    
    0xc8: 11001000 -- **  *   
    0xc8: 11001000 -- **  *   
    0xf8: 11111000 -- *****   
    0xc8: 11001000 -- **  *   
    0xc8: 11001000 -- **  *   
    0x00  00000000 --         
    0x00  00000000 --         
*/
static const unsigned char embedded_font1[] = {
    // ASCII 0-31: Control characters (all empty)
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 0: NULL
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 1
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 2
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 3
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 4
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 5
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 6
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 7
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 8
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 9
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 10
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 11
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 12
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 13
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 14
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 15
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 16
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 17
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 18
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 19
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 20
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 21
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 22
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 23
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 24
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 25
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 26
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 27
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 28
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 29
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 30
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 31
    // ASCII 32-126: Printable characters
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 32: ' ' (space)
    0x30, 0x30, 0x30, 0x00, 0x30, 0x00, 0x30, 0x30,  // 33: '!'
    0x50, 0x50, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 34: '"'
    0x50, 0xf8, 0x50, 0xf8, 0x50, 0x00, 0x00, 0x00,  // 35: '#'
    0x78, 0xa0, 0x70, 0x28, 0xf0, 0x00, 0x00, 0x00,  // 36: '$'
    0x88, 0x10, 0x20, 0x40, 0x88, 0x00, 0x00, 0x00,  // 37: '%'
    0x40, 0xa0, 0x68, 0x90, 0x68, 0x00, 0x00, 0x00,  // 38: '&'
    0x20, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 39: '''
    0x20, 0x40, 0x40, 0x40, 0x20, 0x00, 0x00, 0x00,  // 40: '('
    0x40, 0x20, 0x20, 0x20, 0x40, 0x00, 0x00, 0x00,  // 41: ')'
    0x20, 0xa8, 0x70, 0xa8, 0x20, 0x00, 0x00, 0x00,  // 42: '*'
    0x00, 0x20, 0x70, 0x20, 0x00, 0x00, 0x00, 0x00,  // 43: '+'
    0x00, 0x00, 0x00, 0x60, 0x20, 0x40, 0x00, 0x00,  // 44: ','
    0x00, 0x00, 0x70, 0x00, 0x00, 0x00, 0x00, 0x00,  // 45: '-'
    0x00, 0x00, 0x00, 0x00, 0x60, 0x60, 0x00, 0x00,  // 46: '.'
    0x08, 0x10, 0x20, 0x40, 0x80, 0x00, 0x00, 0x00,  // 47: '/'
    // Numbers 0-9
    0x70, 0xc8, 0xc8, 0xc8, 0x70, 0x00, 0x00, 0x00,  // 48: '0'
    0x30, 0x70, 0x30, 0x30, 0x78, 0x00, 0x00, 0x00,  // 49: '1'
    0xf0, 0x18, 0x70, 0xc0, 0xf8, 0x00, 0x00, 0x00,  // 50: '2'
    0xf8, 0x18, 0x30, 0x98, 0x70, 0x00, 0x00, 0x00,  // 51: '3'
    0x30, 0x70, 0xd0, 0xf8, 0x10, 0x00, 0x00, 0x00,  // 52: '4'
    0xf8, 0xc0, 0xf0, 0x18, 0xf0, 0x00, 0x00, 0x00,  // 53: '5'
    0x70, 0xc0, 0xf0, 0xc8, 0x70, 0x00, 0x00, 0x00,  // 54: '6'
    0xf8, 0x18, 0x30, 0x60, 0xc0, 0x00, 0x00, 0x00,  // 55: '7'
    0x70, 0xc8, 0x70, 0xc8, 0x70, 0x00, 0x00, 0x00,  // 56: '8'
    0x70, 0xc8, 0x78, 0x08, 0x70, 0x00, 0x00, 0x00,  // 57: '9'
    // Punctuation
    0x60, 0x60, 0x00, 0x60, 0x60, 0x00, 0x00, 0x00,  // 58: ':'
    0x60, 0x60, 0x00, 0x60, 0x20, 0x40, 0x00, 0x00,  // 59: ';'
    0x10, 0x20, 0x40, 0x20, 0x10, 0x00, 0x00, 0x00,  // 60: '<'
    0x00, 0x00, 0x70, 0x00, 0x70, 0x00, 0x00, 0x00,  // 61: '='
    0x40, 0x20, 0x10, 0x20, 0x40, 0x00, 0x00, 0x00,  // 62: '>'
    0x78, 0x18, 0x30, 0x00, 0x30, 0x00, 0x00, 0x00,  // 63: '?'
    0x70, 0xa8, 0xb8, 0x80, 0x70, 0x00, 0x00, 0x00,  // 64: '@'
    // Uppercase letters A-Z
    0x70, 0xc8, 0xc8, 0xf8, 0xc8, 0x00, 0x00, 0x00,  // 65: 'A'
    0xf0, 0xc8, 0xf0, 0xc8, 0xf0, 0x00, 0x00, 0x00,  // 66: 'B'
    0x70, 0xc8, 0xc0, 0xc8, 0x70, 0x00, 0x00, 0x00,  // 67: 'C'
    0xf0, 0xc8, 0xc8, 0xc8, 0xf0, 0x00, 0x00, 0x00,  // 68: 'D'
    0xf8, 0xc0, 0xf0, 0xc0, 0xf8, 0x00, 0x00, 0x00,  // 69: 'E'
    0xf8, 0xc0, 0xf0, 0xc0, 0xc0, 0x00, 0x00, 0x00,  // 70: 'F'
    0x78, 0xc0, 0xd8, 0xc8, 0x78, 0x00, 0x00, 0x00,  // 71: 'G'
    0xc8, 0xc8, 0xf8, 0xc8, 0xc8, 0x00, 0x00, 0x00,  // 72: 'H'
    0x78, 0x30, 0x30, 0x30, 0x78, 0x00, 0x00, 0x00,  // 73: 'I'
    0xf8, 0x18, 0x18, 0xd8, 0x70, 0x00, 0x00, 0x00,  // 74: 'J'
    0xc8, 0xd0, 0xe0, 0xd0, 0xc8, 0x00, 0x00, 0x00,  // 75: 'K'
    0xc0, 0xc0, 0xc0, 0xc0, 0xf8, 0x00, 0x00, 0x00,  // 76: 'L'
    0xd8, 0xf8, 0xf8, 0xa8, 0x88, 0x00, 0x00, 0x00,  // 77: 'M'
    0xc8, 0xe8, 0xf8, 0xd8, 0xc8, 0x00, 0x00, 0x00,  // 78: 'N'
    0x70, 0xc8, 0xc8, 0xc8, 0x70, 0x00, 0x00, 0x00,  // 79: 'O'
    0xf0, 0xc8, 0xc8, 0xf0, 0xc0, 0x00, 0x00, 0x00,  // 80: 'P'
    0x70, 0xc8, 0xc8, 0xc8, 0x70, 0x08, 0x00, 0x00,  // 81: 'Q'
    0xf0, 0xc8, 0xc8, 0xf0, 0xc8, 0x00, 0x00, 0x00,  // 82: 'R'
    0x78, 0xe0, 0x70, 0x38, 0xf0, 0x00, 0x00, 0x00,  // 83: 'S'
    0x78, 0x30, 0x30, 0x30, 0x30, 0x00, 0x00, 0x00,  // 84: 'T'
    0xc8, 0xc8, 0xc8, 0xc8, 0x70, 0x00, 0x00, 0x00,  // 85: 'U'
    0xc8, 0xc8, 0xc8, 0x70, 0x20, 0x00, 0x00, 0x00,  // 86: 'V'
    0x88, 0xa8, 0xf8, 0xf8, 0xd8, 0x00, 0x00, 0x00,  // 87: 'W'
    0xc8, 0xc8, 0x70, 0xc8, 0xc8, 0x00, 0x00, 0x00,  // 88: 'X'
    0x68, 0x68, 0x78, 0x30, 0x30, 0x00, 0x00, 0x00,  // 89: 'Y'
    0xf8, 0x30, 0x60, 0xc0, 0xf8, 0x00, 0x00, 0x00,  // 90: 'Z'
    // More punctuation and symbols
    0x60, 0x40, 0x40, 0x40, 0x60, 0x00, 0x00, 0x00,  // 91: '['
    0x80, 0x40, 0x20, 0x10, 0x08, 0x00, 0x00, 0x00,  // 92: '\'
    0x60, 0x20, 0x20, 0x20, 0x60, 0x00, 0x00, 0x00,  // 93: ']'
    0x20, 0x50, 0x88, 0x00, 0x00, 0x00, 0x00, 0x00,  // 94: '^'
    0x00, 0x00, 0x00, 0x00, 0x78, 0x00, 0x00, 0x00,  // 95: '_'
    0x40, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 96: '`'
    // Lowercase letters a-z
    0x00, 0x78, 0x98, 0x98, 0x78, 0x00, 0x00, 0x00,  // 97: 'a'
    0xc0, 0xf0, 0xc8, 0xc8, 0xf0, 0x00, 0x00, 0x00,  // 98: 'b'
    0x00, 0x78, 0xe0, 0xe0, 0x78, 0x00, 0x00, 0x00,  // 99: 'c'
    0x18, 0x78, 0x98, 0x98, 0x78, 0x00, 0x00, 0x00,  // 100: 'd'
    0x00, 0x70, 0xd8, 0xe0, 0x70, 0x00, 0x00, 0x00,  // 101: 'e'
    0x38, 0x60, 0xf8, 0x60, 0x60, 0x00, 0x00, 0x00,  // 102: 'f'
    0x00, 0x70, 0x98, 0xf8, 0x18, 0x70, 0x00, 0x00,  // 103: 'g'
    0xc0, 0xf0, 0xc8, 0xc8, 0xc8, 0x00, 0x00, 0x00,  // 104: 'h'
    0x30, 0x00, 0x70, 0x30, 0x78, 0x00, 0x00, 0x00,  // 105: 'i'
    0x18, 0x00, 0x18, 0x18, 0x98, 0x70, 0x00, 0x00,  // 106: 'j'
    0xc0, 0xc8, 0xf0, 0xc8, 0xc8, 0x00, 0x00, 0x00,  // 107: 'k'
    0x60, 0x60, 0x60, 0x60, 0x38, 0x00, 0x00, 0x00,  // 108: 'l'
    0x00, 0xd0, 0xf8, 0xa8, 0xa8, 0x00, 0x00, 0x00,  // 109: 'm'
    0x00, 0xf0, 0xc8, 0xc8, 0xc8, 0x00, 0x00, 0x00,  // 110: 'n'
    0x00, 0x70, 0xc8, 0xc8, 0x70, 0x00, 0x00, 0x00,  // 111: 'o'
    0x00, 0xf0, 0xc8, 0xc8, 0xf0, 0xc0, 0x00, 0x00,  // 112: 'p'
    0x00, 0x78, 0x98, 0x98, 0x78, 0x18, 0x00, 0x00,  // 113: 'q'
    0x00, 0xf0, 0xc8, 0xc0, 0xc0, 0x00, 0x00, 0x00,  // 114: 'r'
    0x00, 0x78, 0xe0, 0x38, 0xf0, 0x00, 0x00, 0x00,  // 115: 's'
    0x60, 0xf8, 0x60, 0x60, 0x38, 0x00, 0x00, 0x00,  // 116: 't'
    0x00, 0x98, 0x98, 0x98, 0x78, 0x00, 0x00, 0x00,  // 117: 'u'
    0x00, 0xc8, 0xc8, 0xd0, 0xe0, 0x00, 0x00, 0x00,  // 118: 'v'
    0x00, 0x88, 0xa8, 0xf8, 0xd8, 0x00, 0x00, 0x00,  // 119: 'w'
    0x00, 0xd8, 0x70, 0x70, 0xd8, 0x00, 0x00, 0x00,  // 120: 'x'
    0x00, 0x98, 0x98, 0x78, 0x18, 0x70, 0x00, 0x00,  // 121: 'y'
    0x00, 0xf8, 0x30, 0x60, 0xf8, 0x00, 0x00, 0x00,  // 122: 'z'
    // Final punctuation
    0x30, 0x20, 0x60, 0x20, 0x30, 0x00, 0x00, 0x00,  // 123: '{'
    0x20, 0x20, 0x20, 0x20, 0x20, 0x00, 0x00, 0x00,  // 124: '|'
    0x60, 0x20, 0x30, 0x20, 0x60, 0x00, 0x00, 0x00,  // 125: '}'
    0x00, 0x28, 0x50, 0x00, 0x00, 0x00, 0x00, 0x00,  // 126: '~'
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00   // 127: DEL
};

// 8x8 bitmap font for ASCII characters 0-127 (alternate/new design)
// Each line is 8 bytes for one character
static const unsigned char embedded_font2[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // 0: NULL
    0x3c, 0x42, 0xa5, 0x81, 0xa5, 0x99, 0x42, 0x3c, // 1: SOH (Start of Header)
    0x3c, 0x7e, 0xdb, 0xff, 0xff, 0xdb, 0x66, 0x3c, // 2: STX (Start of Text)
    0x6c, 0xfe, 0xfe, 0xfe, 0x7c, 0x38, 0x10, 0x00, // 3: ETX (End of Text)
    0x10, 0x38, 0x7c, 0xfe, 0x7c, 0x38, 0x10, 0x00, // 4: EOT (End of Transmission)
    0x10, 0x38, 0x54, 0xfe, 0x54, 0x10, 0x38, 0x00, // 5: ENQ (Enquiry)
    0x10, 0x38, 0x7c, 0xfe, 0xfe, 0x10, 0x38, 0x00, // 6: ACK (Acknowledge)
    0x00, 0x00, 0x00, 0x30, 0x30, 0x00, 0x00, 0x00, // 7: BEL (Bell)
    0xff, 0xff, 0xff, 0xe7, 0xe7, 0xff, 0xff, 0xff, // 8: BS (Backspace)
    0x38, 0x44, 0x82, 0x82, 0x82, 0x44, 0x38, 0x00, // 9: TAB (Horizontal Tab)
    0xc7, 0xbb, 0x7d, 0x7d, 0x7d, 0xbb, 0xc7, 0xff, // 10: LF (Line Feed)
    0x0f, 0x03, 0x05, 0x79, 0x88, 0x88, 0x88, 0x70, // 11: VT (Vertical Tab)
    0x38, 0x44, 0x44, 0x44, 0x38, 0x10, 0x7c, 0x10, // 12: FF (Form Feed)
    0x30, 0x28, 0x24, 0x24, 0x28, 0x20, 0xe0, 0xc0, // 13: CR (Carriage Return)
    0x3c, 0x24, 0x3c, 0x24, 0x24, 0xe4, 0xdc, 0x18, // 14: SO (Shift Out)
    0x10, 0x54, 0x38, 0xee, 0x38, 0x54, 0x10, 0x00, // 15: SI (Shift In)
    0x80, 0xc0, 0xe0, 0xf0, 0xe0, 0xc0, 0x80, 0x00, // 16: DLE (Data Link Escape)
    0x01, 0x03, 0x07, 0x0f, 0x07, 0x03, 0x01, 0x00, // 17: DC1 (Device Control 1)
    0x10, 0x10, 0x10, 0x7c, 0x10, 0x10, 0x10, 0x10, // 18: DC2 (Device Control 2)
    0xfc, 0x48, 0x48, 0x48, 0xe8, 0x08, 0x50, 0x20, // 19: DC3 (Device Control 3)
    0x7c, 0xa8, 0xa8, 0x68, 0x28, 0x28, 0x28, 0x00, // 20: DC4 (Device Control 4)
    0x38, 0x40, 0x30, 0x48, 0x48, 0x30, 0x08, 0x70, // 21: NAK (Negative Acknowledge)
    0x00, 0x00, 0x00, 0x3c, 0x3c, 0x00, 0x00, 0x00, // 22: SYN (Synchronous Idle)
    0x20, 0x20, 0x70, 0x20, 0x70, 0x20, 0x20, 0x00, // 23: ETB (End of Transmission Block)
    0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // 24: CAN (Cancel)
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0xff, // 25: EM (End of Medium)
    0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, // 26: SUB (Substitute)
    0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, // 27: ESC (Escape)
    0x00, 0x10, 0x10, 0xff, 0x10, 0x10, 0x00, 0x00, // 28: FS (File Separator)
    0x00, 0x20, 0x50, 0x88, 0x50, 0x20, 0x00, 0x00, // 29: GS (Group Separator)
    0x00, 0x00, 0x00, 0x00, 0x10, 0x38, 0x7c, 0xfe, // 30: RS (Record Separator)
    0xfe, 0x7c, 0x38, 0x10, 0x00, 0x00, 0x00, 0x00, // 31: US (Unit Separator)
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // 32: ' ' (space)
    0x20, 0x20, 0x20, 0x20, 0x00, 0x00, 0x20, 0x00, // 33: '!' (exclamation)
    0x50, 0x50, 0x50, 0x00, 0x00, 0x00, 0x00, 0x00, // 34: '"' (double quote)
    0x50, 0x50, 0xf8, 0x50, 0xf8, 0x50, 0x50, 0x00, // 35: '#' (hash)
    0x20, 0x78, 0xa0, 0x70, 0x28, 0xf0, 0x20, 0x00, // 36: '$' (dollar)
    0xc0, 0xc8, 0x10, 0x20, 0x40, 0x98, 0x18, 0x00, // 37: '%' (percent)
    0x40, 0xa0, 0x40, 0xa8, 0x90, 0x98, 0x60, 0x00, // 38: '&' (ampersand)
    0x10, 0x20, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, // 39: '\'' (apostrophe)
    0x10, 0x20, 0x40, 0x40, 0x40, 0x20, 0x10, 0x00, // 40: '(' (left parenthesis)
    0x40, 0x20, 0x10, 0x10, 0x10, 0x20, 0x40, 0x00, // 41: ')' (right parenthesis)
    0x20, 0xa8, 0x70, 0x20, 0x70, 0xa8, 0x20, 0x00, // 42: '*' (asterisk)
    0x00, 0x20, 0x20, 0xf8, 0x20, 0x20, 0x00, 0x00, // 43: '+' (plus)
    0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x20, 0x40, // 44: ',' (comma)
    0x00, 0x00, 0x00, 0x78, 0x00, 0x00, 0x00, 0x00, // 45: '-' (hyphen)
    0x00, 0x00, 0x00, 0x00, 0x00, 0x60, 0x60, 0x00, // 46: '.' (period)
    0x00, 0x00, 0x08, 0x10, 0x20, 0x40, 0x80, 0x00, // 47: '/' (slash)
    0x70, 0x88, 0x98, 0xa8, 0xc8, 0x88, 0x70, 0x00, // 48: '0'
    0x20, 0x60, 0xa0, 0x20, 0x20, 0x20, 0xf8, 0x00, // 49: '1'
    0x70, 0x88, 0x08, 0x10, 0x60, 0x80, 0xf8, 0x00, // 50: '2'
    0x70, 0x88, 0x08, 0x30, 0x08, 0x88, 0x70, 0x00, // 51: '3'
    0x10, 0x30, 0x50, 0x90, 0xf8, 0x10, 0x10, 0x00, // 52: '4'
    0xf8, 0x80, 0xe0, 0x10, 0x08, 0x10, 0xe0, 0x00, // 53: '5'
    0x30, 0x40, 0x80, 0xf0, 0x88, 0x88, 0x70, 0x00, // 54: '6'
    0xf8, 0x88, 0x10, 0x20, 0x20, 0x20, 0x20, 0x00, // 55: '7'
    0x70, 0x88, 0x88, 0x70, 0x88, 0x88, 0x70, 0x00, // 56: '8'
    0x70, 0x88, 0x88, 0x78, 0x08, 0x10, 0x60, 0x00, // 57: '9'
    0x00, 0x00, 0x20, 0x00, 0x00, 0x20, 0x00, 0x00, // 58: ':'
    0x00, 0x00, 0x20, 0x00, 0x00, 0x20, 0x20, 0x40, // 59: ';'
    0x00, 0x10, 0x20, 0x40, 0x20, 0x10, 0x00, 0x00, // 60: '<'
    0x00, 0x00, 0xf8, 0x00, 0xf8, 0x00, 0x00, 0x00, // 61: '='
    0x00, 0x40, 0x20, 0x10, 0x20, 0x40, 0x00, 0x00, // 62: '>'
    0x70, 0x88, 0x08, 0x10, 0x20, 0x00, 0x20, 0x00, // 63: '?'
    0x70, 0x88, 0x08, 0x68, 0xa8, 0xa8, 0x70, 0x00, // 64: '@'
    0x20, 0x50, 0x88, 0x88, 0xf8, 0x88, 0x88, 0x00, // 65: 'A'
    0xf0, 0x48, 0x48, 0x70, 0x48, 0x48, 0xf0, 0x00, // 66: 'B'
    0x30, 0x48, 0x80, 0x80, 0x80, 0x48, 0x30, 0x00, // 67: 'C'
    0xe0, 0x50, 0x48, 0x48, 0x48, 0x50, 0xe0, 0x00, // 68: 'D'
    0xf8, 0x80, 0x80, 0xf0, 0x80, 0x80, 0xf8, 0x00, // 69: 'E'
    0xf8, 0x80, 0x80, 0xf0, 0x80, 0x80, 0x80, 0x00, // 70: 'F'
    0x70, 0x88, 0x80, 0xb8, 0x88, 0x88, 0x70, 0x00, // 71: 'G'
    0x88, 0x88, 0x88, 0xf8, 0x88, 0x88, 0x88, 0x00, // 72: 'H'
    0x70, 0x20, 0x20, 0x20, 0x20, 0x20, 0x70, 0x00, // 73: 'I'
    0x38, 0x10, 0x10, 0x10, 0x90, 0x90, 0x60, 0x00, // 74: 'J'
    0x88, 0x90, 0xa0, 0xc0, 0xa0, 0x90, 0x88, 0x00, // 75: 'K'
    0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0xf8, 0x00, // 76: 'L'
    0x88, 0xd8, 0xa8, 0xa8, 0x88, 0x88, 0x88, 0x00, // 77: 'M'
    0x88, 0xc8, 0xc8, 0xa8, 0x98, 0x98, 0x88, 0x00, // 78: 'N'
    0x70, 0x88, 0x88, 0x88, 0x88, 0x88, 0x70, 0x00, // 79: 'O'
    0xf0, 0x88, 0x88, 0xf0, 0x80, 0x80, 0x80, 0x00, // 80: 'P'
    0x70, 0x88, 0x88, 0x88, 0xa8, 0x90, 0x68, 0x00, // 81: 'Q'
    0xf0, 0x88, 0x88, 0xf0, 0xa0, 0x90, 0x88, 0x00, // 82: 'R'
    0x70, 0x88, 0x80, 0x70, 0x08, 0x88, 0x70, 0x00, // 83: 'S'
    0xf8, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x00, // 84: 'T'
    0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x70, 0x00, // 85: 'U'
    0x88, 0x88, 0x88, 0x88, 0x50, 0x50, 0x20, 0x00, // 86: 'V'
    0x88, 0x88, 0x88, 0xa8, 0xa8, 0xd8, 0x88, 0x00, // 87: 'W'
    0x88, 0x88, 0x50, 0x20, 0x50, 0x88, 0x88, 0x00, // 88: 'X'
    0x88, 0x88, 0x88, 0x70, 0x20, 0x20, 0x20, 0x00, // 89: 'Y'
    0xf8, 0x08, 0x10, 0x20, 0x40, 0x80, 0xf8, 0x00, // 90: 'Z'
    0x70, 0x40, 0x40, 0x40, 0x40, 0x40, 0x70, 0x00, // 91: '['
    0x00, 0x00, 0x80, 0x40, 0x20, 0x10, 0x08, 0x00, // 92: '\\'
    0x70, 0x10, 0x10, 0x10, 0x10, 0x10, 0x70, 0x00, // 93: ']'
    0x20, 0x50, 0x88, 0x00, 0x00, 0x00, 0x00, 0x00, // 94: '^'
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf8, 0x00, // 95: '_'
    0x40, 0x20, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, // 96: '`'
    0x00, 0x00, 0x70, 0x08, 0x78, 0x88, 0x78, 0x00, // 97: 'a'
    0x80, 0x80, 0xb0, 0xc8, 0x88, 0xc8, 0xb0, 0x00, // 98: 'b'
    0x00, 0x00, 0x70, 0x88, 0x80, 0x88, 0x70, 0x00, // 99: 'c'
    0x08, 0x08, 0x68, 0x98, 0x88, 0x98, 0x68, 0x00, // 100: 'd'
    0x00, 0x00, 0x70, 0x88, 0xf8, 0x80, 0x70, 0x00, // 101: 'e'
    0x10, 0x28, 0x20, 0xf8, 0x20, 0x20, 0x20, 0x00, // 102: 'f'
    0x00, 0x00, 0x68, 0x98, 0x98, 0x68, 0x08, 0x70, // 103: 'g'
    0x80, 0x80, 0xf0, 0x88, 0x88, 0x88, 0x88, 0x00, // 104: 'h'
    0x20, 0x00, 0x60, 0x20, 0x20, 0x20, 0x70, 0x00, // 105: 'i'
    0x10, 0x00, 0x30, 0x10, 0x10, 0x10, 0x90, 0x60, // 106: 'j'
    0x40, 0x40, 0x48, 0x50, 0x60, 0x50, 0x48, 0x00, // 107: 'k'
    0x60, 0x20, 0x20, 0x20, 0x20, 0x20, 0x70, 0x00, // 108: 'l'
    0x00, 0x00, 0xd0, 0xa8, 0xa8, 0xa8, 0xa8, 0x00, // 109: 'm'
    0x00, 0x00, 0xb0, 0xc8, 0x88, 0x88, 0x88, 0x00, // 110: 'n'
    0x00, 0x00, 0x70, 0x88, 0x88, 0x88, 0x70, 0x00, // 111: 'o'
    0x00, 0x00, 0xb0, 0xc8, 0xc8, 0xb0, 0x80, 0x80, // 112: 'p'
    0x00, 0x00, 0x68, 0x98, 0x98, 0x68, 0x08, 0x08, // 113: 'q'
    0x00, 0x00, 0xb0, 0xc8, 0x80, 0x80, 0x80, 0x00, // 114: 'r'
    0x00, 0x00, 0x78, 0x80, 0xf0, 0x08, 0xf0, 0x00, // 115: 's'
    0x40, 0x40, 0xf0, 0x40, 0x40, 0x48, 0x30, 0x00, // 116: 't'
    0x00, 0x00, 0x90, 0x90, 0x90, 0x90, 0x68, 0x00, // 117: 'u'
    0x00, 0x00, 0x88, 0x88, 0x88, 0x50, 0x20, 0x00, // 118: 'v'
    0x00, 0x00, 0x88, 0xa8, 0xa8, 0xa8, 0x50, 0x00, // 119: 'w'
    0x00, 0x00, 0x88, 0x50, 0x20, 0x50, 0x88, 0x00, // 120: 'x'
    0x00, 0x00, 0x88, 0x88, 0x98, 0x68, 0x08, 0x70, // 121: 'y'
    0x00, 0x00, 0xf8, 0x10, 0x20, 0x40, 0xf8, 0x00, // 122: 'z'
    0x18, 0x20, 0x20, 0x40, 0x20, 0x20, 0x18, 0x00, // 123: '{'
    0x20, 0x20, 0x20, 0x00, 0x20, 0x20, 0x20, 0x00, // 124: '|'
    0xc0, 0x20, 0x20, 0x10, 0x20, 0x20, 0xc0, 0x00, // 125: '}'
    0x40, 0xa8, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, // 126: '~'
    0x00, 0x00, 0x20, 0x50, 0xf8, 0x00, 0x00, 0x00, // 127: DEL
    // Extended ASCII 128-255 (ISO-8859-1/Windows-1252 reference, may differ)
    0x70, 0x88, 0x80, 0x80, 0x88, 0x70, 0x20, 0x60, // 128: € (Euro sign) or custom glyph
    0x90, 0x00, 0x00, 0x90, 0x90, 0x90, 0x68, 0x00, // 129: undefined/control or custom glyph
    0x10, 0x20, 0x70, 0x88, 0xf8, 0x80, 0x70, 0x00, // 130: ‚ (Single low-9 quote) or custom glyph
    0x20, 0x50, 0x70, 0x08, 0x78, 0x88, 0x78, 0x00, // 131: ƒ (Function) or custom glyph
    0x48, 0x00, 0x70, 0x08, 0x78, 0x88, 0x78, 0x00, // 132: „ (Double low-9 quote) or custom glyph
    0x20, 0x10, 0x70, 0x08, 0x78, 0x88, 0x78, 0x00, // 133: … (Ellipsis) or custom glyph
    0x20, 0x00, 0x70, 0x08, 0x78, 0x88, 0x78, 0x00, // 134: † (Dagger) or custom glyph
    0x00, 0x70, 0x80, 0x80, 0x80, 0x70, 0x10, 0x60, // 135: ‡ (Double dagger) or custom glyph
    0x20, 0x50, 0x70, 0x88, 0xf8, 0x80, 0x70, 0x00, // 136: ˆ (Circumflex accent) or custom glyph
    0x50, 0x00, 0x70, 0x88, 0xf8, 0x80, 0x70, 0x00, // 137: ‰ (Per mille) or custom glyph
    0x20, 0x10, 0x70, 0x88, 0xf8, 0x80, 0x70, 0x00, // 138: Š (S caron) or custom glyph
    0x50, 0x00, 0x00, 0x60, 0x20, 0x20, 0x70, 0x00, // 139: ‹ (Single left-pointing quote) or custom glyph
    0x20, 0x50, 0x00, 0x60, 0x20, 0x20, 0x70, 0x00, // 140: Œ (OE ligature) or custom glyph
    0x40, 0x20, 0x00, 0x60, 0x20, 0x20, 0x70, 0x00, // 141: undefined/control or custom glyph
    0x50, 0x00, 0x20, 0x50, 0x88, 0xf8, 0x88, 0x00, // 142: Ž (Z caron) or custom glyph
    0x20, 0x00, 0x20, 0x50, 0x88, 0xf8, 0x88, 0x00, // 143: undefined/control or custom glyph
    0x10, 0x20, 0xf8, 0x80, 0xf0, 0x80, 0xf8, 0x00, // 144: ‘ (Left single quote) or custom glyph
    0x00, 0x00, 0x6c, 0x12, 0x7e, 0x90, 0x6e, 0x00, // 145: ’ (Right single quote) or custom glyph
    0x3e, 0x50, 0x90, 0x9c, 0xf0, 0x90, 0x9e, 0x00, // 146: “ (Left double quote) or custom glyph
    0x60, 0x90, 0x00, 0x60, 0x90, 0x90, 0x60, 0x00, // 147: ” (Right double quote) or custom glyph
    0x90, 0x00, 0x00, 0x60, 0x90, 0x90, 0x60, 0x00, // 148: • (Bullet) or custom glyph
    0x40, 0x20, 0x00, 0x60, 0x90, 0x90, 0x60, 0x00, // 149: – (En dash) or custom glyph
    0x40, 0xa0, 0x00, 0xa0, 0xa0, 0xa0, 0x50, 0x00, // 150: — (Em dash) or custom glyph
    0x40, 0x20, 0x00, 0xa0, 0xa0, 0xa0, 0x50, 0x00, // 151: ˜ (Tilde) or custom glyph
    0x90, 0x00, 0x90, 0x90, 0xb0, 0x50, 0x10, 0xe0, // 152: ™ (Trademark) or custom glyph
    0x50, 0x00, 0x70, 0x88, 0x88, 0x88, 0x70, 0x00, // 153: š (s caron) or custom glyph
    0x50, 0x00, 0x88, 0x88, 0x88, 0x88, 0x70, 0x00, // 154: œ (oe ligature) or custom glyph
    0x20, 0x20, 0x78, 0x80, 0x80, 0x78, 0x20, 0x20, // 155: › (Single right-pointing quote) or custom glyph
    0x18, 0x24, 0x20, 0xf8, 0x20, 0xe2, 0x5c, 0x00, // 156: ž (z caron) or custom glyph
    0x88, 0x50, 0x20, 0xf8, 0x20, 0xf8, 0x20, 0x00, // 157: undefined/control or custom glyph
    0xc0, 0xa0, 0xa0, 0xc8, 0x9c, 0x88, 0x88, 0x8c, // 158: undefined/control or custom glyph
    0x18, 0x20, 0x20, 0xf8, 0x20, 0x20, 0x20, 0x40, // 159: undefined/control or custom glyph
    // 160-255: ISO-8859-1 printable extended characters (non-breaking space, accented letters, symbols, etc.)
    0x10, 0x20, 0x70, 0x08, 0x78, 0x88, 0x78, 0x00, // 160:  (non-breaking space) or custom glyph
    0x10, 0x20, 0x00, 0x60, 0x20, 0x20, 0x70, 0x00, // 161: ¡ (inverted exclamation) or custom glyph
    0x20, 0x40, 0x00, 0x60, 0x90, 0x90, 0x60, 0x00, // 162: ¢ (cent) or custom glyph
    0x20, 0x40, 0x00, 0x90, 0x90, 0x90, 0x68, 0x00, // 163: £ (pound) or custom glyph
    0x50, 0xa0, 0x00, 0xa0, 0xd0, 0x90, 0x90, 0x00, // 164: ¤ (currency) or custom glyph
    0x28, 0x50, 0x00, 0xc8, 0xa8, 0x98, 0x88, 0x00, // 165: ¥ (yen) or custom glyph
    0x00, 0x70, 0x08, 0x78, 0x88, 0x78, 0x00, 0xf8, // 166: ¦ (broken bar) or custom glyph
    0x00, 0x60, 0x90, 0x90, 0x90, 0x60, 0x00, 0xf0, // 167: § (section) or custom glyph
    0x20, 0x00, 0x20, 0x40, 0x80, 0x88, 0x70, 0x00, // 168: ¨ (diaeresis) or custom glyph
    0x00, 0x00, 0x00, 0xf8, 0x80, 0x80, 0x00, 0x00, // 169: © (copyright) or custom glyph
    0x00, 0x00, 0x00, 0xf8, 0x08, 0x08, 0x00, 0x00, // 170: ª (feminine ordinal) or custom glyph
    0x84, 0x88, 0x90, 0xa8, 0x54, 0x84, 0x08, 0x1c, // 171: « (left double angle quote) or custom glyph
    0x84, 0x88, 0x90, 0xa8, 0x58, 0xa8, 0x3c, 0x08, // 172: ¬ (not sign) or custom glyph
    0x20, 0x00, 0x00, 0x20, 0x20, 0x20, 0x20, 0x00, // 173: ­ (soft hyphen) or custom glyph
    0x00, 0x00, 0x24, 0x48, 0x90, 0x48, 0x24, 0x00, // 174: ® (registered) or custom glyph
    0x00, 0x00, 0x90, 0x48, 0x24, 0x48, 0x90, 0x00, // 175: ¯ (macron) or custom glyph
    0x11, 0x22, 0x44, 0x88, 0x11, 0x22, 0x44, 0x88, // 176: ° (degree) or custom glyph
    0x33, 0x33, 0xcc, 0xcc, 0x33, 0x33, 0xcc, 0xcc, // 177: ± (plus-minus) or custom glyph
    0x77, 0xbb, 0xdd, 0xee, 0x77, 0xbb, 0xdd, 0xee, // 178: ² (superscript 2) or custom glyph
    0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, // 179: ³ (superscript 3) or custom glyph
    0x10, 0x10, 0x10, 0xf0, 0x10, 0x10, 0x10, 0x10, // 180: ´ (acute accent) or custom glyph
    0x10, 0x10, 0xf0, 0x10, 0xf0, 0x10, 0x10, 0x10, // 181: µ (micro) or custom glyph
    0x28, 0x28, 0x28, 0xe8, 0x28, 0x28, 0x28, 0x28, // 182: ¶ (pilcrow) or custom glyph
    0x00, 0x00, 0x00, 0xf8, 0x28, 0x28, 0x28, 0x28, // 183: · (middle dot) or custom glyph
    0x00, 0x00, 0xf0, 0x10, 0xf0, 0x10, 0x10, 0x10, // 184: ¸ (cedilla) or custom glyph
    0x28, 0x28, 0xe8, 0x08, 0xe8, 0x28, 0x28, 0x28, // 185: ¹ (superscript 1) or custom glyph
    0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, // 186: º (masculine ordinal) or custom glyph
    0x00, 0x00, 0xf8, 0x08, 0xe8, 0x28, 0x28, 0x28, // 187: » (right double angle quote) or custom glyph
    0x28, 0x28, 0xe8, 0x08, 0xf8, 0x00, 0x00, 0x00, // 188: ¼ (one quarter) or custom glyph
    0x28, 0x28, 0x28, 0xf8, 0x00, 0x00, 0x00, 0x00, // 189: ½ (one half) or custom glyph
    0x10, 0x10, 0xf0, 0x10, 0xf0, 0x00, 0x00, 0x00, // 190: ¿ (inverted question) or custom glyph
    0x00, 0x00, 0x00, 0xf0, 0x10, 0x10, 0x10, 0x10, // 191: À (A grave) or custom glyph
    0x10, 0x10, 0x10, 0x1f, 0x00, 0x00, 0x00, 0x00, // 192: Á (A acute) or custom glyph
    0x10, 0x10, 0x10, 0xff, 0x00, 0x00, 0x00, 0x00, // 193: Â (A circumflex) or custom glyph
    0x00, 0x00, 0x00, 0xff, 0x10, 0x10, 0x10, 0x10, // 194: Ã (A tilde) or custom glyph
    0x10, 0x10, 0x10, 0x1f, 0x10, 0x10, 0x10, 0x10, // 195: Ä (A diaeresis) or custom glyph
    0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, // 196: Å (A ring) or custom glyph
    0x10, 0x10, 0x10, 0xff, 0x10, 0x10, 0x10, 0x10, // 197: Æ (AE ligature) or custom glyph
    0x10, 0x10, 0x1f, 0x10, 0x1f, 0x10, 0x10, 0x10, // 198: Ç (C cedilla) or custom glyph
    0x28, 0x28, 0x28, 0x2f, 0x28, 0x28, 0x28, 0x28, // 199: È (E grave) or custom glyph
    0x14, 0x14, 0x17, 0x10, 0x1f, 0x00, 0x00, 0x00, // 200: É (E acute) or custom glyph
    0x00, 0x00, 0x3f, 0x20, 0x2f, 0x28, 0x28, 0x28, // 201: Ê (E circumflex) or custom glyph
    0x28, 0x28, 0xef, 0x00, 0xff, 0x00, 0x00, 0x00, // 202: Ë (E diaeresis) or custom glyph
    0x00, 0x00, 0xff, 0x00, 0xef, 0x28, 0x28, 0x28, // 203: Ì (I grave) or custom glyph
    0x28, 0x28, 0x2f, 0x20, 0x2f, 0x28, 0x28, 0x28, // 204: Í (I acute) or custom glyph
    0x00, 0x00, 0xff, 0x00, 0xff, 0x00, 0x00, 0x00, // 205: Î (I circumflex) or custom glyph
    0x28, 0x28, 0xef, 0x00, 0xef, 0x28, 0x28, 0x28, // 206: Ï (I diaeresis) or custom glyph
    0x10, 0x10, 0xff, 0x00, 0xff, 0x00, 0x00, 0x00, // 207: Ð (Eth) or custom glyph
    0x28, 0x28, 0x28, 0xff, 0x00, 0x00, 0x00, 0x00, // 208: Ñ (N tilde) or custom glyph
    0x00, 0x00, 0xff, 0x00, 0xff, 0x10, 0x10, 0x10, // 209: Ò (O grave) or custom glyph
    0x00, 0x00, 0x00, 0xff, 0x28, 0x28, 0x28, 0x28, // 210: Ó (O acute) or custom glyph
    0x2c, 0x28, 0x28, 0x3f, 0x00, 0x00, 0x00, 0x00, // 211: Ô (O circumflex) or custom glyph
    0x10, 0x10, 0x1f, 0x10, 0x1f, 0x00, 0x00, 0x00, // 212: Õ (O tilde) or custom glyph
    0x00, 0x00, 0x1f, 0x10, 0x1f, 0x10, 0x10, 0x10, // 213: Ö (O diaeresis) or custom glyph
    0x00, 0x00, 0x00, 0x3f, 0x28, 0x28, 0x28, 0x28, // 214: × (multiply) or custom glyph
    0x28, 0x28, 0x28, 0xff, 0x28, 0x28, 0x28, 0x28, // 215: Ø (O slash) or custom glyph
    0x10, 0x10, 0xff, 0x10, 0xff, 0x10, 0x10, 0x10, // 216: Ù (U grave) or custom glyph
    0x10, 0x10, 0x10, 0xf0, 0x00, 0x00, 0x00, 0x00, // 217: Ú (U acute) or custom glyph
    0x00, 0x00, 0x00, 0x1f, 0x10, 0x10, 0x10, 0x10, // 218: Û (U circumflex) or custom glyph
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, // 219: Ü (U diaeresis) or custom glyph
    0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff, // 220: Ý (Y acute) or custom glyph
    0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, 0xf0, // 221: Þ (Thorn) or custom glyph
    0x0f, 0x0f, 0x0f, 0x0f, 0x0f, 0x0f, 0x0f, 0x0f, // 222: ß (sharp s) or custom glyph
    0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, // 223: à (a grave) or custom glyph
    0x00, 0x00, 0x68, 0x90, 0x90, 0x90, 0x68, 0x00, // 224: á (a acute) or custom glyph
    0x30, 0x48, 0x48, 0x70, 0x48, 0x48, 0x70, 0xc0, // 225: â (a circumflex) or custom glyph
    0xf8, 0x88, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, // 226: ã (a tilde) or custom glyph
    0xf8, 0x50, 0x50, 0x50, 0x50, 0x50, 0x98, 0x00, // 227: ä (a diaeresis) or custom glyph
    0xf8, 0x88, 0x40, 0x20, 0x40, 0x88, 0xf8, 0x00, // 228: å (a ring) or custom glyph
    0x00, 0x00, 0x78, 0x90, 0x90, 0x90, 0x60, 0x00, // 229: æ (ae ligature) or custom glyph
    0x00, 0x50, 0x50, 0x50, 0x50, 0x68, 0x80, 0x80, // 230: ç (c cedilla) or custom glyph
    0x00, 0x50, 0xa0, 0x20, 0x20, 0x20, 0x20, 0x00, // 231: è (e grave) or custom glyph
    0xf8, 0x20, 0x70, 0xa8, 0xa8, 0x70, 0x20, 0xf8, // 232: é (e acute) or custom glyph
    0x20, 0x50, 0x88, 0xf8, 0x88, 0x50, 0x20, 0x00, // 233: ê (e circumflex) or custom glyph
    0x70, 0x88, 0x88, 0x88, 0x50, 0x50, 0xd8, 0x00, // 234: ë (e diaeresis) or custom glyph
    0x30, 0x40, 0x40, 0x20, 0x50, 0x50, 0x50, 0x20, // 235: ì (i grave) or custom glyph
    0x00, 0x00, 0x00, 0x50, 0xa8, 0xa8, 0x50, 0x00, // 236: í (i acute) or custom glyph
    0x08, 0x70, 0xa8, 0xa8, 0xa8, 0x70, 0x80, 0x00, // 237: î (i circumflex) or custom glyph
    0x38, 0x40, 0x80, 0xf8, 0x80, 0x40, 0x38, 0x00, // 238: ï (i diaeresis) or custom glyph
    0x70, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x00, // 239: ð (eth) or custom glyph
    0x00, 0xf8, 0x00, 0xf8, 0x00, 0xf8, 0x00, 0x00, // 240: ñ (n tilde) or custom glyph
    0x20, 0x20, 0xf8, 0x20, 0x20, 0x00, 0xf8, 0x00, // 241: ò (o grave) or custom glyph
    0xc0, 0x30, 0x08, 0x30, 0xc0, 0x00, 0xf8, 0x00, // 242: ó (o acute) or custom glyph
    0x18, 0x60, 0x80, 0x60, 0x18, 0x00, 0xf8, 0x00, // 243: ô (o circumflex) or custom glyph
    0x10, 0x28, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, // 244: õ (o tilde) or custom glyph
    0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0xa0, 0x40, // 245: ö (o diaeresis) or custom glyph
    0x00, 0x20, 0x00, 0xf8, 0x00, 0x20, 0x00, 0x00, // 246: ÷ (divide) or custom glyph
    0x00, 0x50, 0xa0, 0x00, 0x50, 0xa0, 0x00, 0x00, // 247: ø (o slash) or custom glyph
    0x00, 0x18, 0x24, 0x24, 0x18, 0x00, 0x00, 0x00, // 248: ù (u grave) or custom glyph
    0x00, 0x30, 0x78, 0x78, 0x30, 0x00, 0x00, 0x00, // 249: ú (u acute) or custom glyph
    0x00, 0x00, 0x00, 0x00, 0x30, 0x00, 0x00, 0x00, // 250: û (u circumflex) or custom glyph
    0x3e, 0x20, 0x20, 0x20, 0xa0, 0x60, 0x20, 0x00, // 251: ü (u diaeresis) or custom glyph
    0xa0, 0x50, 0x50, 0x50, 0x00, 0x00, 0x00, 0x00, // 252: ý (y acute) or custom glyph
    0x40, 0xa0, 0x20, 0x40, 0xe0, 0x00, 0x00, 0x00, // 253: þ (thorn) or custom glyph
    0x00, 0x38, 0x38, 0x38, 0x38, 0x38, 0x38, 0x00, // 254: ÿ (y diaeresis) or custom glyph
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // 255: undefined/empty
};

// PICO-8 style font: 3x5 pixel grid
// Each character is 8 bytes (5 rows of pixels, plus 3 unused bytes)
// Format: 3x5 pixel grid, stored as bit patterns in bytes (using rightmost 3 bits)
/* Example:
    Character 'A' (ASCII 65)
    0x40: 010 --  * 
    0xa0: 101 -- * *
    0xe0: 111 -- ***
    0xa0: 101 -- * *
    0xa0: 101 -- * *
    0x00: 000 --    
    0x00  000 --    
    0x00  000 --    
*/
static const unsigned char embedded_font3[] = {
    // ASCII 0-31: Control characters (all empty)
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 0: NULL
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 1
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 2
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 3
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 4
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 5
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 6
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 7
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 8
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 9
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 10
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 11
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 12
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 13
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 14
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 15
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 16
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 17
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 18
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 19
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 20
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 21
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 22
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 23
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 24
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 25
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 26
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 27
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 28
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 29
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 30
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 31
    // ASCII 32-126: Printable characters
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 32: ' ' (space)
    0x40, 0x40, 0x40, 0x00, 0x40, 0x00, 0x00, 0x00,  // 33: '!'
    0xa0, 0xa0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 34: '"'
    0xa0, 0xe0, 0xa0, 0xe0, 0xa0, 0x00, 0x00, 0x00,  // 35: '#'
    0x60, 0xc0, 0x60, 0xc0, 0x60, 0x00, 0x00, 0x00,  // 36: '$'
    0xa0, 0x20, 0x40, 0x80, 0xa0, 0x00, 0x00, 0x00,  // 37: '%'
    0x40, 0xa0, 0x40, 0xa0, 0x60, 0x00, 0x00, 0x00,  // 38: '&'
    0x40, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 39: '''
    0x20, 0x40, 0x40, 0x40, 0x20, 0x00, 0x00, 0x00,  // 40: '('
    0x80, 0x40, 0x40, 0x40, 0x80, 0x00, 0x00, 0x00,  // 41: ')'
    0xa0, 0x40, 0xe0, 0x40, 0xa0, 0x00, 0x00, 0x00,  // 42: '*'
    0x00, 0x40, 0xe0, 0x40, 0x00, 0x00, 0x00, 0x00,  // 43: '+'
    0x00, 0x00, 0x00, 0x40, 0x80, 0x00, 0x00, 0x00,  // 44: ','
    0x00, 0x00, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00,  // 45: '-'
    0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00,  // 46: '.'
    0x20, 0x20, 0x40, 0x80, 0x80, 0x00, 0x00, 0x00,  // 47: '/'
    // Numbers 0-9
    0x60, 0xa0, 0xa0, 0xa0, 0xc0, 0x00, 0x00, 0x00,  // 48: '0'
    0x40, 0xc0, 0x40, 0x40, 0xe0, 0x00, 0x00, 0x00,  // 49: '1'
    0xc0, 0x20, 0x40, 0x80, 0xe0, 0x00, 0x00, 0x00,  // 50: '2'
    0xc0, 0x20, 0x40, 0x20, 0xc0, 0x00, 0x00, 0x00,  // 51: '3'
    0xa0, 0xa0, 0xe0, 0x20, 0x20, 0x00, 0x00, 0x00,  // 52: '4'
    0xe0, 0x80, 0xc0, 0x20, 0xc0, 0x00, 0x00, 0x00,  // 53: '5'
    0x60, 0x80, 0xe0, 0xa0, 0xe0, 0x00, 0x00, 0x00,  // 54: '6'
    0xe0, 0x20, 0x40, 0x80, 0x80, 0x00, 0x00, 0x00,  // 55: '7'
    0xe0, 0xa0, 0xe0, 0xa0, 0xe0, 0x00, 0x00, 0x00,  // 56: '8'
    0xe0, 0xa0, 0xe0, 0x20, 0xc0, 0x00, 0x00, 0x00,  // 57: '9'
    // Punctuation
    0x00, 0x40, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00,  // 58: ':'
    0x00, 0x40, 0x00, 0x40, 0x80, 0x00, 0x00, 0x00,  // 59: ';'
    0x20, 0x40, 0x80, 0x40, 0x20, 0x00, 0x00, 0x00,  // 60: '<'
    0x00, 0xe0, 0x00, 0xe0, 0x00, 0x00, 0x00, 0x00,  // 61: '='
    0x80, 0x40, 0x20, 0x40, 0x80, 0x00, 0x00, 0x00,  // 62: '>'
    0xc0, 0x20, 0x40, 0x00, 0x40, 0x00, 0x00, 0x00,  // 63: '?'
    0xe0, 0xa0, 0xe0, 0x80, 0x60, 0x00, 0x00, 0x00,  // 64: '@'
    // Uppercase letters A-Z
    0x40, 0xa0, 0xe0, 0xa0, 0xa0, 0x00, 0x00, 0x00,  // 65: 'A'
    0xc0, 0xa0, 0xc0, 0xa0, 0xc0, 0x00, 0x00, 0x00,  // 66: 'B'
    0x60, 0x80, 0x80, 0x80, 0x60, 0x00, 0x00, 0x00,  // 67: 'C'
    0xc0, 0xa0, 0xa0, 0xa0, 0xc0, 0x00, 0x00, 0x00,  // 68: 'D'
    0xe0, 0x80, 0xc0, 0x80, 0xe0, 0x00, 0x00, 0x00,  // 69: 'E'
    0xe0, 0x80, 0xc0, 0x80, 0x80, 0x00, 0x00, 0x00,  // 70: 'F'
    0x60, 0x80, 0xa0, 0xa0, 0x60, 0x00, 0x00, 0x00,  // 71: 'G'
    0xa0, 0xa0, 0xe0, 0xa0, 0xa0, 0x00, 0x00, 0x00,  // 72: 'H'
    0xe0, 0x40, 0x40, 0x40, 0xe0, 0x00, 0x00, 0x00,  // 73: 'I'
    0xe0, 0x20, 0x20, 0xa0, 0x40, 0x00, 0x00, 0x00,  // 74: 'J'
    0xa0, 0xa0, 0xc0, 0xa0, 0xa0, 0x00, 0x00, 0x00,  // 75: 'K'
    0x80, 0x80, 0x80, 0x80, 0xe0, 0x00, 0x00, 0x00,  // 76: 'L'
    0xa0, 0xe0, 0xa0, 0xa0, 0xa0, 0x00, 0x00, 0x00,  // 77: 'M'
    0xc0, 0xa0, 0xa0, 0xa0, 0xa0, 0x00, 0x00, 0x00,  // 78: 'N'
    0x40, 0xa0, 0xa0, 0xa0, 0x40, 0x00, 0x00, 0x00,  // 79: 'O'
    0xc0, 0xa0, 0xc0, 0x80, 0x80, 0x00, 0x00, 0x00,  // 80: 'P'
    0x40, 0xa0, 0xa0, 0xa0, 0x60, 0x00, 0x00, 0x00,  // 81: 'Q'
    0xc0, 0xa0, 0xc0, 0xa0, 0xa0, 0x00, 0x00, 0x00,  // 82: 'R'
    0x60, 0x80, 0x40, 0x20, 0xc0, 0x00, 0x00, 0x00,  // 83: 'S'
    0xe0, 0x40, 0x40, 0x40, 0x40, 0x00, 0x00, 0x00,  // 84: 'T'
    0xa0, 0xa0, 0xa0, 0xa0, 0x60, 0x00, 0x00, 0x00,  // 85: 'U'
    0xa0, 0xa0, 0xa0, 0xa0, 0x40, 0x00, 0x00, 0x00,  // 86: 'V'
    0xa0, 0xa0, 0xa0, 0xe0, 0xa0, 0x00, 0x00, 0x00,  // 87: 'W'
    0xa0, 0xa0, 0x40, 0xa0, 0xa0, 0x00, 0x00, 0x00,  // 88: 'X'
    0xa0, 0xa0, 0x40, 0x40, 0x40, 0x00, 0x00, 0x00,  // 89: 'Y'
    0xe0, 0x20, 0x40, 0x80, 0xe0, 0x00, 0x00, 0x00,  // 90: 'Z'
    // More punctuation and symbols
    0x60, 0x40, 0x40, 0x40, 0x60, 0x00, 0x00, 0x00,  // 91: '['
    0x80, 0x80, 0x40, 0x20, 0x20, 0x00, 0x00, 0x00,  // 92: '\'
    0xc0, 0x40, 0x40, 0x40, 0xc0, 0x00, 0x00, 0x00,  // 93: ']'
    0x40, 0xa0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 94: '^'
    0x00, 0x00, 0x00, 0x00, 0xe0, 0x00, 0x00, 0x00,  // 95: '_'
    0x80, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 96: '`'
    // Lowercase letters a-z
    0x00, 0xc0, 0x60, 0xa0, 0x60, 0x00, 0x00, 0x00,  // 97: 'a'
    0x80, 0xc0, 0xa0, 0xa0, 0xc0, 0x00, 0x00, 0x00,  // 98: 'b'
    0x00, 0x60, 0x80, 0x80, 0x60, 0x00, 0x00, 0x00,  // 99: 'c'
    0x20, 0x60, 0xa0, 0xa0, 0x60, 0x00, 0x00, 0x00,  // 100: 'd'
    0x00, 0x60, 0xe0, 0x80, 0x60, 0x00, 0x00, 0x00,  // 101: 'e'
    0x20, 0x40, 0xe0, 0x40, 0x40, 0x00, 0x00, 0x00,  // 102: 'f'
    0x00, 0x60, 0xa0, 0x60, 0xc0, 0x00, 0x00, 0x00,  // 103: 'g'
    0x80, 0xc0, 0xa0, 0xa0, 0xa0, 0x00, 0x00, 0x00,  // 104: 'h'
    0x40, 0x00, 0x40, 0x40, 0x40, 0x00, 0x00, 0x00,  // 105: 'i'
    0x20, 0x00, 0x20, 0x20, 0xe0, 0x00, 0x00, 0x00,  // 106: 'j'
    0x80, 0xa0, 0xc0, 0xa0, 0xa0, 0x00, 0x00, 0x00,  // 107: 'k'
    0xc0, 0x40, 0x40, 0x40, 0xe0, 0x00, 0x00, 0x00,  // 108: 'l'
    0x00, 0xa0, 0xe0, 0xa0, 0xa0, 0x00, 0x00, 0x00,  // 109: 'm'
    0x00, 0xc0, 0xa0, 0xa0, 0xa0, 0x00, 0x00, 0x00,  // 110: 'n'
    0x00, 0x40, 0xa0, 0xa0, 0x40, 0x00, 0x00, 0x00,  // 111: 'o'
    0x00, 0xc0, 0xa0, 0xc0, 0x80, 0x00, 0x00, 0x00,  // 112: 'p'
    0x00, 0x60, 0xa0, 0x60, 0x20, 0x00, 0x00, 0x00,  // 113: 'q'
    0x00, 0xa0, 0xc0, 0x80, 0x80, 0x00, 0x00, 0x00,  // 114: 'r'
    0x00, 0x60, 0xc0, 0x60, 0xc0, 0x00, 0x00, 0x00,  // 115: 's'
    0x40, 0xe0, 0x40, 0x40, 0x60, 0x00, 0x00, 0x00,  // 116: 't'
    0x00, 0xa0, 0xa0, 0xa0, 0x60, 0x00, 0x00, 0x00,  // 117: 'u'
    0x00, 0xa0, 0xa0, 0xa0, 0x40, 0x00, 0x00, 0x00,  // 118: 'v'
    0x00, 0xa0, 0xa0, 0xe0, 0xa0, 0x00, 0x00, 0x00,  // 119: 'w'
    0x00, 0xa0, 0x40, 0xa0, 0xa0, 0x00, 0x00, 0x00,  // 120: 'x'
    0x00, 0xa0, 0xa0, 0x60, 0xc0, 0x00, 0x00, 0x00,  // 121: 'y'
    0x00, 0xe0, 0x20, 0x40, 0xe0, 0x00, 0x00, 0x00,  // 122: 'z'
    // Final punctuation
    0x20, 0x40, 0xc0, 0x40, 0x20, 0x00, 0x00, 0x00,  // 123: '{'
    0x40, 0x40, 0x00, 0x40, 0x40, 0x00, 0x00, 0x00,  // 124: '|'
    0x80, 0x40, 0x60, 0x40, 0x80, 0x00, 0x00, 0x00,  // 125: '}'
    0x00, 0x60, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00,  // 126: '~'
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00   // 127: DEL
};
// clang-format on

/* TTF Font globals */
static TTF_Font *ttf_font = NULL;
static int ttf_char_width = 6;   // fallback to bitmap size
static int ttf_char_height = 8;  // fallback to bitmap size
static int ttf_font_shade = 0;

/* TTF font */
int init_ttf_font(const char *font_path, int font_size, int shade) {
    if (TTF_Init() == -1) {
        fprintf(stderr, "TTF_Init failed: %s\n", TTF_GetError());
        return 0;
    }

    ttf_font = TTF_OpenFont(font_path, font_size);
    if (!ttf_font) {
        fprintf(stderr, "Failed to load font '%s': %s\n", font_path, TTF_GetError());
        TTF_Quit();
        return 0;
    }

    // Get font metrics
    TTF_SizeText(ttf_font, "M", &ttf_char_width, &ttf_char_height);
    ttf_font_shade = shade;

    fprintf(stderr, "TTF font loaded: %s (size: %d, char: %dx%d), shaded: %d\n", font_path, font_size, ttf_char_width, ttf_char_height, ttf_font_shade);

    return 1;
}

void cleanup_ttf_font(void) {
    if (ttf_font) {
        TTF_CloseFont(ttf_font);
        ttf_font = NULL;
        TTF_Quit();
    }
}

int is_ttf_loaded(void) { return ttf_font != NULL; }

int get_ttf_char_width(void) { return ttf_char_width; }

int get_ttf_char_height(void) { return ttf_char_height; }

void draw_string_ttf(SDL_Surface *surface, const char *text, int x, int y, SDL_Color fg, SDL_Color bg) {
    if (!ttf_font || !surface || !text) {
        fprintf(stderr, "Invalid parameters for draw_string_ttf\n");
        return;
    }
    if (strlen(text) == 0) {  // Nothing to draw
        return;
    }

    SDL_Surface *text_surface;
    if (ttf_font_shade == 2) {  // highest quality
        text_surface = TTF_RenderText_Shaded(ttf_font, text, fg, bg);
    } else if (ttf_font_shade == 1) {  // medium quality
        text_surface = TTF_RenderText_Blended(ttf_font, text, fg);
    } else {
        text_surface = TTF_RenderText_Solid(ttf_font, text, fg);
    }

    if (!text_surface) {
        fprintf(stderr, "TTF_RenderText_Shaded %s failed: %s\n", text, TTF_GetError());
        return;
    }

    SDL_Rect dest = {x, y, text_surface->w, text_surface->h};
    SDL_BlitSurface(text_surface, NULL, surface, &dest);
    SDL_FreeSurface(text_surface);
}

void draw_string_ttf_with_linebreak(SDL_Surface *surface, const char *text, int x, int y, SDL_Color fg, SDL_Color bg) {
    if (!ttf_font || !surface || !text) return;

    int line_height = get_ttf_char_height();
    const char *line_start = text;
    int cur_y = y;
    while (*line_start) {
        // Find next line break
        const char *line_end = line_start;
        while (*line_end && *line_end != '\n') line_end++;

        // Copy line to buffer
        size_t len = line_end - line_start;
        char line_buf[1024];
        if (len >= sizeof(line_buf)) len = sizeof(line_buf) - 1;
        memcpy(line_buf, line_start, len);
        line_buf[len] = '\0';

        if (len > 0) {
            draw_string_ttf(surface, line_buf, x, cur_y, fg, bg);
        }

        if (*line_end == '\n') {
            cur_y += line_height;
            line_start = line_end + 1;
        } else {
            break;
        }
    }
}

/* Embedded Bitmap font */
void draw_char(SDL_Surface *surface, unsigned char symbol, int x, int y, unsigned short color, int embedded_font_name) {
    int flip = 0;
    if (symbol > 127) {
        flip = 1;
        symbol -= 128;
    }

    const unsigned char *ptr;
    int rows, start_col, end_col;

    if (embedded_font_name == 1) {
        ptr = embedded_font1 + symbol * 8;
        rows = 6;
        start_col = 2;  // 8 - 6
        end_col = 8;
        x += 5;  // 6 - 1
    } else if (embedded_font_name == 3) {
        ptr = embedded_font3 + symbol * 8;
        rows = 5;
        start_col = 5;  // 8 - 3
        end_col = 8;
        x += 2;  // 3 - 1
    } else {     // embedded_font_name == 2
        ptr = embedded_font2 + symbol * 8;
        rows = 8;
        start_col = 2;  // 8 - 6
        end_col = 8;
        x += 5;  // 6 - 1
    }

    for (int i = 0, ys = 0; i < rows; i++, ptr++, ys += 1)
        for (int col = start_col, xs = x - (col - start_col); col < end_col; col++, xs -= 1)
            if ((*ptr & 1 << col) && y + ys < surface->h && xs < surface->w) ((unsigned short *)surface->pixels)[(y + flip * 4 + (1 - 2 * flip) * ys) * (surface->pitch >> 1) + xs] = color;
}

void draw_string(SDL_Surface *surface, const char *text, int orig_x, int orig_y, unsigned short color, int embedded_font_name) {
    int x = orig_x, y = orig_y;
    int char_width = get_embedded_font_char_width(embedded_font_name);
    int line_height = get_embedded_font_char_height(embedded_font_name);

    while (*text) {
        if (*text == '\n') {
            x = orig_x;
            y += line_height;
        } else {
            draw_char(surface, *text, x, y, color, embedded_font_name);
            x += char_width;
        }
        text++;
    }
}

int get_embedded_font_char_width(int embedded_font_name) {
    if (embedded_font_name == 3) {
        return 4;  // PICO-8 font is 3 pixels wide + 1 spacing
    }
    return 6;  // fonts 1 and 2 are 6 pixels wide, including build-in spacing
}

int get_embedded_font_char_height(int embedded_font_name) {
    if (embedded_font_name == 3) {
        return 6;  // font 3 is 5 rows + 1 padding = 6 pixels high
    } else if (embedded_font_name == 1) {
        return 8;  // font 1 is 6 rows + 2 padding = 8 pixels high
    }
    return 10;  // font 2 is 8 rows + 2 padding = 10 pixels high
}
